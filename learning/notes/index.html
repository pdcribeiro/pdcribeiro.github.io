<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notes</title>
    <style>
    </style>
</head>

<body class="">
</body>

<script type="module">
    import { DragAndDropList } from '/lib/ui/components/DragAndDropList.js'
    import { registerServiceWorker } from '/lib/service-worker.js'
    import van, { injectTagsIntoWindow, renderAfterLoad } from '/lib/ui/van-wrapper.js'

    injectTagsIntoWindow()
    renderAfterLoad(app)
    registerServiceWorker()

    const items = [...Array(20).keys()].map(i => 'Item ' + i)

    function app() {
        const newItemInput = input()

        const itemsList = new DragAndDropList({
            onMove: (selected, dropped) => console.log({ selected, dropped }),
        })

        return main(
            newItemInput,
            button({ onclick: () => itemsList.addItem(newItemInput.value) }, 'add'),
            itemsList.render(...items.map((item, i) =>
                div({ style: 'height: 50px' },
                    span(item, ' '),
                    button({ onclick: () => itemsList.removeItem(i) }, 'remove')
                ),
            ))
        )
    }
</script>
<!-- <script type="module" src="./notes.user.test.js"></script> -->

</html>